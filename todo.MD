# Ember POS Development Plan - Fresh Start

## ğŸ¯ CURRENT STATUS (June 16, 2025)
**ğŸ“‹ STATUS**: Starting fresh development  
**ğŸ¨ APPROACH**: Expo Router file-based routing architecture (matching ImagineLabs project)  
**ğŸ¯ GOAL**: Build modern POS system with React Native and Node.js backend
**ğŸ”§ METHODOLOGY**: Incremental development with verification checkpoints
**ğŸ“± REFERENCE**: Use exact same stack as successful ImagineLabs project

---

## ğŸ“š **EXACT STACK FROM IMAGINALABS PROJECT**

### **Frontend Dependencies (Match Exactly)**
```json
{
  "expo": "~53.0.11",
  "expo-router": "~5.1.0", 
  "react": "19.0.0",
  "react-native": "0.79.3",
  "typescript": "~5.8.3",
  "@expo/vector-icons": "^14.1.0",
  "@react-native-async-storage/async-storage": "2.1.2",
  "@react-navigation/native": "^7.1.6",
  "expo-auth-session": "~6.2.0",
  "expo-crypto": "~14.1.5",
  "expo-dev-client": "~5.2.0",
  "expo-font": "~13.3.1",
  "expo-linear-gradient": "^14.1.5",
  "expo-linking": "~7.1.5",
  "expo-splash-screen": "~0.30.9",
  "expo-status-bar": "~2.2.3",
  "expo-system-ui": "~5.0.8",
  "expo-web-browser": "~14.1.6",
  "react-native-gesture-handler": "~2.24.0",
  "react-native-reanimated": "~3.17.4",
  "react-native-safe-area-context": "5.4.0",
  "react-native-screens": "~4.11.1",
  "react-native-svg": "15.11.2"
}
```

### **Backend Dependencies (Match Exactly)**
```json
{
  "express": "^4.18.2",
  "mongoose": "^8.15.2",
  "jsonwebtoken": "^9.0.2",
  "bcryptjs": "^2.4.3",
  "cors": "^2.8.5",
  "dotenv": "^16.3.1",
  "express-rate-limit": "^7.1.5",
  "express-validator": "^7.0.1",
  "helmet": "^7.1.0"
}
```

### **Expo Configuration (app.json)**
```json
{
  "expo": {
    "newArchEnabled": true,
    "plugins": ["expo-router"],
    "experiments": {
      "typedRoutes": true
    }
  }
}
```

### **TypeScript Configuration**
```json
{
  "extends": "expo/tsconfig.base",
  "compilerOptions": {
    "strict": true,
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

---

## ğŸ§ª **STEP-BY-STEP DEVELOPMENT PHILOSOPHY**

### **Why This Approach?**
- **ğŸ” VERIFY EARLY**: Catch issues when they're small and easy to fix
- **ğŸ—ï¸ BUILD SOLID**: Each layer depends on the previous working correctly  
- **âš¡ MOVE FAST**: No time wasted on broken foundations
- **ğŸ¯ STAY FOCUSED**: Complete one thing fully before starting the next

### **How Each Step Works**
1. **Read the Goal**: Understand what we're building in this step
2. **Follow Substeps**: Complete each substep in order  
3. **Hit Checkpoint**: Verify the feature works as specified
4. **Fix Issues**: Don't proceed until checkpoint passes
5. **Move Forward**: Only then continue to next substep

### **Checkpoint Rules**
- **ğŸ›‘ BLOCKING**: If checkpoint fails, stop and fix before continuing
- **âœ… REQUIRED**: Every checkpoint must pass - no exceptions
- **ğŸ“¸ DOCUMENT**: Screenshot/demo each working checkpoint
- **ğŸ”„ ITERATE**: It's okay to go back and improve previous steps

---

## ğŸš¨ IMMEDIATE PRIORITIES (First Development Session)

### **Priority 1: Project Foundation** 
**Goal**: Set up React Native project with Expo Router architecture

```typescript
// NEEDED: Expo Router project setup
// - TypeScript configuration
// - Professional folder structure
// - Modern file-based routing
```

**Action Items**:
1. Initialize React Native project with Expo Router
2. Set up TypeScript and development environment
3. Create professional folder structure
4. Configure Expo SDK and dependencies
5. Set up development workflow

### **Priority 2: Backend Foundation**
**Goal**: Create Node.js API with MongoDB integration

```typescript
// NEEDED: Complete backend API
// - Express server with TypeScript
// - MongoDB schemas and models
// - JWT authentication system
// - RESTful API endpoints
```

### **Priority 3: Authentication System**
**Goal**: Build secure login system connecting frontend to backend

---

## ğŸ“‹ DEVELOPMENT PROMPT SEQUENCE WITH DETAILED SUBSTEPS

### **Prompt 1: Project Initialization**
**Goal**: Get basic Expo Router app running with TypeScript (EXACTLY like ImagineLabs)

#### **Step 1.1: Basic Expo Setup** âš¡ *VERIFY FIRST*
- Create new Expo project with EXACT same template as ImagineLabs
- Use Expo SDK ~53.0.11 and React Native 0.79.3
- Start development server and confirm app loads
- **âœ… CHECKPOINT**: Basic app running on device/simulator (like ImagineLabs)

#### **Step 1.2: Expo Router Configuration** âš¡ *VERIFY BEFORE PROCEEDING*
- Install expo-router ~5.1.0 (exact version from ImagineLabs)
- Copy the EXACT file-based routing structure from ImagineLabs:
  ```
  app/
  â”œâ”€â”€ (tabs)/
  â”‚   â”œâ”€â”€ _layout.tsx
  â”‚   â””â”€â”€ index.tsx
  â”œâ”€â”€ _layout.tsx
  â”œâ”€â”€ +not-found.tsx
  â””â”€â”€ login.tsx
  ```
- Set up entry point: "main": "expo-router/entry" in package.json
- **âœ… CHECKPOINT**: File-based routing working exactly like ImagineLabs

#### **Step 1.3: TypeScript Configuration** âš¡ *VERIFY TYPES WORKING*
- Copy EXACT tsconfig.json from ImagineLabs with strict mode
- Set up path aliases: "@/*": ["./*"] for absolute imports
- Install TypeScript ~5.8.3 (exact version from ImagineLabs)
- Add expo-env.d.ts file
- **âœ… CHECKPOINT**: TypeScript compiling without errors, @/ imports working

#### **Step 1.4: Professional Setup Like ImagineLabs** âš¡ *VERIFY STRUCTURE*
- Copy the EXACT folder structure from ImagineLabs:
  ```
  ember-pos/
  â”œâ”€â”€ app/              # Expo Router pages
  â”œâ”€â”€ components/       # Reusable components
  â”œâ”€â”€ contexts/         # React contexts
  â”œâ”€â”€ constants/        # App constants
  â”œâ”€â”€ assets/          # Images, fonts, etc
  â””â”€â”€ server/          # Backend (separate package.json)
  ```
- Set up app.json with newArchEnabled: true and typedRoutes: true
- Add the EXACT same EAS configuration from ImagineLabs
- **âœ… CHECKPOINT**: Project structure matches ImagineLabs exactly

---

### **Prompt 2: MongoDB Schema Design**  
**Goal**: Design and document complete database schemas (NO CODE YET)

#### **Step 2.1: Core Entity Schemas** âš¡ *DESIGN ONLY*
- Design User/Employee schema with roles and permissions
- Design Store/Tenant schema for multi-tenant architecture
- Design basic Product/Inventory schema
- **âœ… CHECKPOINT**: Core schemas documented with relationships

#### **Step 2.2: Transaction Schemas** âš¡ *DESIGN ONLY*
- Design Transaction/Sale schema with line items
- Design Payment schema with multiple payment types
- Design Customer schema with purchase history
- **âœ… CHECKPOINT**: Transaction flow schemas complete

#### **Step 2.3: Advanced Feature Schemas** âš¡ *DESIGN ONLY*
- Design Consignment schema for consignment items
- Design Layaway schema for layaway transactions
- Design Reporting/Analytics schema for aggregated data
- **âœ… CHECKPOINT**: All schemas documented, reviewed, and validated

---

### **Prompt 3: Node.js Backend Foundation**
**Goal**: Build working API with database connection (EXACTLY like ImagineLabs server)

#### **Step 3.1: Basic Express Setup** âš¡ *VERIFY SERVER STARTS*
- Create server/ directory with separate package.json
- Use EXACT Express setup from ImagineLabs with these dependencies:
  ```json
  {
    "express": "^4.18.2",
    "cors": "^2.8.5", 
    "helmet": "^7.1.0",
    "express-rate-limit": "^7.1.5",
    "express-validator": "^7.0.1",
    "dotenv": "^16.3.1"
  }
  ```
- Copy the EXACT middleware setup from ImagineLabs server.js
- **âœ… CHECKPOINT**: Server starts on port 3000, responds to basic GET request

#### **Step 3.2: MongoDB Connection** âš¡ *VERIFY DATABASE CONNECTS*
- Use mongoose ^8.15.2 (exact version from ImagineLabs)
- Copy the EXACT connection setup from ImagineLabs
- Create test-connection.js script like ImagineLabs
- Set up MongoDB Atlas or local MongoDB
- **âœ… CHECKPOINT**: Database connected, can save/retrieve test data

#### **Step 3.3: Authentication System** âš¡ *VERIFY AUTH WORKS*
- Use jsonwebtoken ^9.0.2 and bcryptjs ^2.4.3 (exact versions)
- Copy the EXACT JWT setup pattern from ImagineLabs
- Create login/logout endpoints matching ImagineLabs structure
- Add authentication middleware like ImagineLabs
- **âœ… CHECKPOINT**: Can login, receive JWT, access protected routes

#### **Step 3.4: Core API Endpoints** âš¡ *VERIFY CRUD OPERATIONS*
- Copy the EXACT folder structure from ImagineLabs server:
  ```
  server/
  â”œâ”€â”€ config/          # Database config
  â”œâ”€â”€ middleware/      # Auth, validation middleware  
  â”œâ”€â”€ models/          # Mongoose schemas
  â”œâ”€â”€ package.json     # Backend dependencies
  â”œâ”€â”€ server.js        # Main server file
  â””â”€â”€ .env             # Environment variables
  ```
- Create basic CRUD endpoints for Users and Products
- Use the EXACT error handling pattern from ImagineLabs
- **âœ… CHECKPOINT**: All CRUD operations working via Postman/testing tool

---

### **Prompt 4: Authentication & Home Screen**
**Goal**: Connect frontend to backend authentication (EXACTLY like ImagineLabs pattern)

#### **Step 4.1: Authentication Context Setup** âš¡ *VERIFY CONTEXT WORKS*
- Copy the EXACT AuthContext pattern from ImagineLabs
- Create contexts/ directory and AuthContext.tsx
- Add useAuth hook with login/logout/user state
- Set up async-storage for token persistence
- **âœ… CHECKPOINT**: AuthContext working, can login/logout in console

#### **Step 4.2: Layout and Navigation** âš¡ *VERIFY ROUTING PROTECTION*
- Copy the EXACT _layout.tsx structure from ImagineLabs
- Implement authentication guards and route protection
- Add LoadingScreen component like ImagineLabs
- Set up Stack navigation with proper screen options
- **âœ… CHECKPOINT**: Auth guards working, redirects properly between login/main app

#### **Step 4.3: Login Screen** âš¡ *VERIFY LOGIN UI*
- Create login.tsx matching ImagineLabs structure
- Add form validation and error handling
- Connect to backend authentication API
- Add proper loading states and user feedback
- **âœ… CHECKPOINT**: Complete login flow working end-to-end

#### **Step 4.4: Tab Navigation & Dashboard** âš¡ *VERIFY MAIN APP*
- Copy the EXACT (tabs)/_layout.tsx structure from ImagineLabs
- Create dashboard with POS-specific tabs (Sale, Inventory, Reports, etc.)
- Add proper tab icons and navigation
- Implement basic dashboard screen with sales summary
- **âœ… CHECKPOINT**: Tab navigation working, dashboard accessible after login

---

### **Prompt 5: State Management & API Integration**
**Goal**: Add centralized state management (following ImagineLabs Context pattern)

#### **Step 5.1: Context Providers Setup** âš¡ *VERIFY CONTEXT WORKS*
- Copy the EXACT context provider pattern from ImagineLabs
- Create additional contexts for POS data (InventoryContext, TransactionContext)
- Set up context providers in root _layout.tsx like ImagineLabs
- Add proper TypeScript interfaces for all contexts
- **âœ… CHECKPOINT**: Multiple contexts working, state shared across components

#### **Step 5.2: API Service Layer** âš¡ *VERIFY API INTEGRATION*
- Create centralized API service (lib/api.ts) for all backend calls
- Add JWT token handling and automatic refresh
- Implement error handling and retry logic
- Add offline detection and queue management
- **âœ… CHECKPOINT**: All API calls centralized, token handling working

#### **Step 5.3: Data Fetching Hooks** âš¡ *VERIFY DATA LOADING*
- Create custom hooks for data fetching (useInventory, useTransactions)
- Add loading states, error handling, and caching
- Implement real-time updates for POS data
- Add data synchronization between frontend and backend
- **âœ… CHECKPOINT**: Data fetching working, loading states smooth

#### **Step 5.4: Persistent State** âš¡ *VERIFY PERSISTENCE*
- Add AsyncStorage for offline data persistence
- Implement state hydration on app restart
- Add sync mechanism for offline-first functionality
- Test app restart and data persistence
- **âœ… CHECKPOINT**: App state persists across restarts, offline functionality working

---

### **Prompt 6: Inventory Management**
**Goal**: Build complete inventory feature with backend integration

#### **Step 6.1: Inventory API Endpoints** âš¡ *VERIFY BACKEND FIRST*
- Expand inventory CRUD endpoints with search/pagination
- Add inventory category and supplier endpoints
- Test all endpoints with sample data
- **âœ… CHECKPOINT**: Complete inventory API working with test data

#### **Step 6.2: Inventory List Screen** âš¡ *VERIFY UI WITH REAL DATA*
- Create inventory list screen with search and filters
- Connect to backend API using RTK Query
- Add pagination and loading states
- **âœ… CHECKPOINT**: Inventory list showing real data from database

#### **Step 6.3: Inventory Details & Edit** âš¡ *VERIFY CRUD UI*
- Create inventory item detail screen
- Add edit/update functionality
- Implement image upload for products
- **âœ… CHECKPOINT**: Can view, edit, and update inventory items

#### **Step 6.4: Barcode Scanning** âš¡ *VERIFY SCANNING WORKS*
- Add expo-camera for barcode scanning
- Implement barcode lookup functionality
- Add manual barcode entry fallback
- **âœ… CHECKPOINT**: Barcode scanning working, can look up products

#### **Step 6.5: Add New Inventory** âš¡ *VERIFY CREATION FLOW*
- Create add new inventory item screen
- Add form validation and image upload
- Test complete create flow with real data
- **âœ… CHECKPOINT**: Can create new inventory items end-to-end

---

### **Prompt 7: Sales Transaction Screen**
**Goal**: Build complete POS transaction system

#### **Step 7.1: Transaction API** âš¡ *VERIFY BACKEND FIRST*
- Create transaction endpoints (create, retrieve, update)
- Add transaction line item management
- Implement inventory quantity updates on sale
- **âœ… CHECKPOINT**: Transaction API working with inventory updates

#### **Step 7.2: Item Search & Selection** âš¡ *VERIFY ITEM LOOKUP*
- Create item search interface for POS
- Add barcode scanning integration
- Implement quick item selection
- **âœ… CHECKPOINT**: Can search and select items for sale

#### **Step 7.3: Shopping Cart Management** âš¡ *VERIFY CART OPERATIONS*
- Build shopping cart with add/remove/quantity changes
- Calculate totals including tax
- Add discount application
- **âœ… CHECKPOINT**: Shopping cart fully functional with calculations

#### **Step 7.4: Payment Processing** âš¡ *VERIFY PAYMENT FLOW*
- Create payment screen with multiple payment types
- Add cash, card, and split payment options
- Implement change calculation
- **âœ… CHECKPOINT**: Payment processing working, transactions complete

#### **Step 7.5: Receipt Generation** âš¡ *VERIFY RECEIPT OUTPUT*
- Create receipt preview and print functionality
- Add email receipt option
- Store transaction records properly
- **âœ… CHECKPOINT**: Complete transaction with receipt generation

---

### **Prompt 8: Customer Management**
**Goal**: Add customer features and transaction history

#### **Step 8.1: Customer API** âš¡ *VERIFY BACKEND FIRST*
- Create customer CRUD endpoints
- Add customer search and lookup
- Link customers to transactions
- **âœ… CHECKPOINT**: Customer API working with transaction linking

#### **Step 8.2: Customer Lookup/Creation** âš¡ *VERIFY CUSTOMER UI*
- Add customer search during checkout
- Create new customer registration
- Link customers to transactions
- **âœ… CHECKPOINT**: Customer lookup and creation working in POS

#### **Step 8.3: Customer Purchase History** âš¡ *VERIFY HISTORY DISPLAY*
- Create customer profile screen
- Display purchase history and totals
- Add customer transaction search
- **âœ… CHECKPOINT**: Customer history and profiles working

---

### **Prompt 9: Reporting & Analytics**
**Goal**: Build reporting system with real data

#### **Step 9.1: Reporting API** âš¡ *VERIFY DATA AGGREGATION*
- Create sales report endpoints with date ranges
- Add inventory report endpoints
- Implement employee performance reports
- **âœ… CHECKPOINT**: Reporting API returning accurate aggregated data

#### **Step 9.2: Sales Reports UI** âš¡ *VERIFY REPORT DISPLAY*
- Create sales report screens with charts
- Add date range selection and filters
- Implement report export functionality
- **âœ… CHECKPOINT**: Sales reports displaying with visual charts

#### **Step 9.3: Inventory Reports** âš¡ *VERIFY INVENTORY ANALYTICS*
- Create inventory level reports
- Add low stock alerts and notifications
- Implement product performance analytics
- **âœ… CHECKPOINT**: Inventory reports helping with stock management

---

### **Prompt 10: Advanced Features**
**Goal**: Add advanced POS functionality

#### **Step 10.1: Advanced Payment Processing** âš¡ *VERIFY COMPLEX PAYMENTS*
- Add layaway payment functionality
- Implement returns and exchanges
- Add store credit and gift card support
- **âœ… CHECKPOINT**: Advanced payment options working

#### **Step 10.2: Discount & Promotion System** âš¡ *VERIFY PROMOTIONS*
- Create discount management system
- Add promotion codes and automatic discounts
- Implement loyalty program integration
- **âœ… CHECKPOINT**: Discount system working in transactions

#### **Step 10.3: Multi-Store & User Management** âš¡ *VERIFY MULTI-TENANT*
- Add store/location management
- Implement user role and permission system
- Add inter-store inventory transfers
- **âœ… CHECKPOINT**: Multi-store functionality working with proper access control

---

## ğŸ—ï¸ **ARCHITECTURAL DECISIONS TO MAKE**

### **Frontend Framework Choice**
- **OPTION 1**: Expo Router (file-based routing)
- **OPTION 2**: React Navigation (traditional navigation)
- **DECISION NEEDED**: Which approach for navigation?

### **State Management**
- **OPTION 1**: Redux Toolkit with RTK Query
- **OPTION 2**: Context API with React Query
- **DECISION NEEDED**: State management strategy?

### **Backend Architecture**
- **OPTION 1**: Monolithic Express API
- **OPTION 2**: Microservices architecture
- **DECISION NEEDED**: Backend structure approach?

### **Database Strategy**
- **OPTION 1**: MongoDB with Mongoose
- **OPTION 2**: PostgreSQL with Prisma
- **DECISION NEEDED**: Database and ORM choice?

---

## ğŸ¯ **SUCCESS METRICS & VERIFICATION CHECKPOINTS**

### **Verification Philosophy** 
**ğŸ” RULE**: Each checkpoint must pass before proceeding to next step
**âš¡ TESTING**: Every substep includes a specific verification checkpoint
**ğŸ›‘ BLOCKING**: If checkpoint fails, fix before continuing

### **Step-by-Step Verification Guide**

#### **For Frontend Steps**
- **UI Verification**: Screenshot/video of working interface
- **Navigation Verification**: Can navigate between all screens
- **Data Verification**: Real data displaying correctly from API
- **Performance Verification**: Smooth interactions, no lag

#### **For Backend Steps**  
- **API Verification**: Test with Postman/Insomnia
- **Database Verification**: Data persisting correctly in MongoDB
- **Authentication Verification**: JWT tokens working properly
- **Error Handling Verification**: Proper error responses

#### **For Integration Steps**
- **End-to-End Verification**: Complete user workflow testing
- **Real Data Verification**: Using actual POS scenarios, not mock data
- **Error Recovery Verification**: Graceful handling of failures
- **Performance Verification**: Acceptable response times under load

### **Critical Checkpoints That Block Progress**

#### **ğŸš¨ Checkpoint 1.2**: Expo Router must work before any UI development
#### **ğŸš¨ Checkpoint 3.2**: Database connection must work before API development  
#### **ğŸš¨ Checkpoint 4.3**: Authentication must work before protected features
#### **ğŸš¨ Checkpoint 5.2**: Redux state must work before complex features
#### **ğŸš¨ Checkpoint 6.1**: Inventory API must work before inventory UI
#### **ğŸš¨ Checkpoint 7.1**: Transaction API must work before POS screens

---

## ğŸ“ **VERIFICATION CHECKLIST TEMPLATE**

### **After Each Substep, Verify:**
```
â–¡ Code compiles without TypeScript errors
â–¡ App/server starts without warnings  
â–¡ Feature works as demonstrated in checkpoint
â–¡ No console errors or warnings
â–¡ Meets performance expectations
â–¡ Code is properly documented and clean
```

### **Before Moving to Next Prompt:**
```
â–¡ All substeps completed and verified
â–¡ Full feature testing completed
â–¡ Integration testing passed
â–¡ Code reviewed and refactored if needed
â–¡ Documentation updated
â–¡ Ready for next development phase
```

---

## ğŸ“š **EXACT CODE ORGANIZATION (Matching ImagineLabs)**

### **Frontend Structure (EXACT ImagineLabs Pattern)**
```
ember-pos/
â”œâ”€â”€ app/                    # Expo Router pages (EXACT like ImagineLabs)
â”‚   â”œâ”€â”€ (tabs)/            # Tab navigation group
â”‚   â”‚   â”œâ”€â”€ _layout.tsx    # Tab layout configuration
â”‚   â”‚   â”œâ”€â”€ index.tsx      # Dashboard/home tab
â”‚   â”‚   â”œâ”€â”€ sale.tsx       # POS transaction tab
â”‚   â”‚   â”œâ”€â”€ inventory.tsx  # Inventory management tab
â”‚   â”‚   â””â”€â”€ reports.tsx    # Reports and analytics tab
â”‚   â”œâ”€â”€ _layout.tsx        # Root layout with providers
â”‚   â”œâ”€â”€ +not-found.tsx     # 404 page
â”‚   â”œâ”€â”€ login.tsx          # Authentication screen
â”‚   â”œâ”€â”€ settings.tsx       # Settings screen
â”‚   â””â”€â”€ modal.tsx          # Modal screens
â”œâ”€â”€ components/            # Reusable UI components
â”œâ”€â”€ contexts/              # React Context providers (like ImagineLabs)
â”‚   â”œâ”€â”€ AuthContext.tsx    # Authentication state
â”‚   â”œâ”€â”€ InventoryContext.tsx # Inventory management
â”‚   â””â”€â”€ TransactionContext.tsx # POS transactions
â”œâ”€â”€ constants/             # App constants and configuration
â”œâ”€â”€ lib/                   # Utility functions and API client
â”œâ”€â”€ assets/               # Images, fonts, icons
â”‚   â”œâ”€â”€ images/           # App images
â”‚   â””â”€â”€ fonts/            # Custom fonts
â”œâ”€â”€ app.json              # Expo configuration (EXACT like ImagineLabs)
â”œâ”€â”€ eas.json              # EAS build configuration
â”œâ”€â”€ tsconfig.json         # TypeScript config (EXACT like ImagineLabs)
â”œâ”€â”€ expo-env.d.ts         # Expo TypeScript declarations
â””â”€â”€ package.json          # Frontend dependencies
```

### **Backend Structure (EXACT ImagineLabs Server Pattern)**
```
server/
â”œâ”€â”€ config/               # Database and app configuration
â”‚   â””â”€â”€ database.js       # MongoDB connection setup
â”œâ”€â”€ middleware/           # Express middleware
â”‚   â”œâ”€â”€ auth.js          # JWT authentication middleware
â”‚   â”œâ”€â”€ validation.js    # Request validation
â”‚   â””â”€â”€ rateLimiting.js  # Rate limiting
â”œâ”€â”€ models/              # Mongoose schemas
â”‚   â”œâ”€â”€ User.js          # Employee/user model
â”‚   â”œâ”€â”€ Product.js       # Inventory/product model
â”‚   â”œâ”€â”€ Transaction.js   # Sales transaction model
â”‚   â””â”€â”€ Customer.js      # Customer model
â”œâ”€â”€ routes/              # API endpoints
â”‚   â”œâ”€â”€ auth.js          # Authentication routes
â”‚   â”œâ”€â”€ inventory.js     # Inventory management
â”‚   â”œâ”€â”€ transactions.js  # POS transaction routes
â”‚   â””â”€â”€ reports.js       # Reporting endpoints
â”œâ”€â”€ .env                 # Environment variables
â”œâ”€â”€ server.js           # Main server file (EXACT like ImagineLabs)
â”œâ”€â”€ test-connection.js  # Database connection test
â””â”€â”€ package.json        # Backend dependencies (EXACT versions)
```

### **API Service Layer (ImagineLabs Pattern)**
```typescript
// lib/api.ts - Centralized API client (like ImagineLabs)
// contexts/AuthContext.tsx - Authentication state management
// contexts/InventoryContext.tsx - Inventory data management
// contexts/TransactionContext.tsx - POS transaction management
```

---

## ğŸš€ **DEVELOPMENT SETUP REQUIREMENTS**

### **Environment Setup**
```bash
# Required Tools:
# - Node.js 18+
# - MongoDB or MongoDB Atlas
# - Expo CLI
# - TypeScript
# - VS Code with React Native extensions
```

### **Project Structure**
```
ember-pos/
â”œâ”€â”€ frontend/        # React Native Expo app
â”œâ”€â”€ backend/         # Node.js API server
â”œâ”€â”€ shared/          # Shared types and utilities
â””â”€â”€ docs/           # Documentation
```

### **Development Workflow**
1. **Setup**: Initialize both frontend and backend projects
2. **Backend First**: Build API and database schemas
3. **Frontend Integration**: Connect UI to backend services
4. **Testing**: Unit, integration, and E2E testing
5. **Deployment**: Production deployment configuration

---

## ğŸ’¡ **DEVELOPMENT PRINCIPLES**

### **Code Quality**
- TypeScript throughout the entire stack
- Comprehensive error handling and validation
- Clean architecture with separation of concerns
- Consistent code formatting and linting

### **User Experience**
- Fast and responsive interface
- Intuitive navigation and workflows
- Offline-first architecture
- Professional POS aesthetics

### **Scalability**
- Multi-tenant architecture support
- Efficient database queries and indexing
- Modular component design
- Performance monitoring and optimization

### **Security**
- Secure authentication and authorization
- Data encryption and validation
- API rate limiting and protection
- Audit logging for all transactions

---

## ğŸš€ **IMMEDIATE NEXT STEPS - QUICK REFERENCE (ImagineLabs Setup)**

### **Right Now: Start with Prompt 1, Step 1.1 (EXACT ImagineLabs Setup)**
```bash
# FIRST ACTION: Create Expo app with EXACT same setup as ImagineLabs
npx create-expo-app ember-pos --template blank-typescript

cd ember-pos

# Install EXACT same Expo Router version as ImagineLabs
npx expo install expo-router@~5.1.0

# Set main entry point (EXACT same as ImagineLabs)
# Edit package.json: "main": "expo-router/entry"

# Install EXACT dependency versions from ImagineLabs
npx expo install expo@~53.0.11 react@19.0.0 react-native@0.79.3

# VERIFY: App starts and shows basic screen
npx expo start --port 8085

# CHECKPOINT 1.1: âœ… Basic app running EXACTLY like ImagineLabs before proceeding
```

### **Copy Exact Configuration Files from ImagineLabs**
```bash
# After basic setup, copy these EXACT files from ImagineLabs:
# - app.json (with newArchEnabled: true, typedRoutes: true)
# - tsconfig.json (with strict mode and @/* paths)
# - eas.json (EAS build configuration)
# - expo-env.d.ts (TypeScript declarations)
```

### **Development Order (NEVER Skip Steps - Follow ImagineLabs Pattern)**
1. **Step 1.1** â†’ Basic Expo app working (exact ImagineLabs setup)
2. **Step 1.2** â†’ Expo Router navigation working (copy ImagineLabs structure)
3. **Step 1.3** â†’ TypeScript compiling cleanly (copy ImagineLabs tsconfig.json)
4. **Step 1.4** â†’ Folder structure organized (copy ImagineLabs structure)
5. **Step 2.1** â†’ Database schemas designed
6. **Step 3.1** â†’ Backend setup (copy ImagineLabs server structure)
7. **Continue...** â†’ Following the detailed substeps with ImagineLabs patterns

### **Key Reminders for ImagineLabs Compatibility**
- **ğŸ” COPY EXACT VERSIONS**: Use exact same package versions as ImagineLabs
- **ğŸ“ COPY EXACT STRUCTURE**: Use same folder organization as ImagineLabs  
- **âš™ï¸ COPY EXACT CONFIG**: Use same app.json, tsconfig.json settings
- **ğŸ¨ COPY EXACT PATTERNS**: Use same Context providers, authentication flow
- **ğŸ›‘ STOP IF DIFFERENT**: If setup differs from ImagineLabs, fix immediately
- **ğŸ“¸ DOCUMENT**: Screenshot each working checkpoint for reference
- **ğŸ’¾ COMMIT OFTEN**: Git commit after each successful checkpoint

---

**ğŸ¯ READY TO START: Prompt 1, Step 1.1 - EXACT ImagineLabs Setup**  
**ğŸ“ Next Action**: Create Expo project with ImagineLabs configuration  
**ğŸ¨ Focus**: Mirror the working ImagineLabs setup exactly**
